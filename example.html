<html>
	<body>
	    <traffic-lignt></traffic-lignt>
	    <script type="riot/tag">
			<traffic-lignt>
				<div id="traffic-light" onclick={click}></div>
				<style>
					#traffic-light {
						width:100px;
						height:100px;
						border-radius:50%;
						background-color:red;
					}
				</style>
				var self = this;
				tsore.register(
		    		'trafficLight', 
		    		{
			    		red: function() {
			    			this.state = 'red';
			    			return 'change';
			    		},
			    		green: function() {
			    			this.state = 'red';
			    			return true;
			    		},
			    	},
			    	{
			    		state:'red',
			    		getState: function(){
			    			return state;
			    		}
			    	}, 
			    	function(action){
			    		console.log(action+' action was dispatched');
			    	}
		    	);

				click() {
					tsore.action('green');
				};
				tsore.on('update',function(){
					self.color = tsore('trafficLight').getState();
				});
			</traffic-lignt>
	    </script>
		<script src="riot+compiler.js"></script>
	    <script src="tsore.js"></script>
	    <script>
	    tsore.register('man',{
		    	start:function(){
		    		this.state = 'run';
			    }
			},
		    {
		    	state:'busy'
		    }
		);
	    tsore.action('start');
	    console.log(tsore.store('man').state);
	    	//riot.mount('*');
	    </script>
	</body>
</html>